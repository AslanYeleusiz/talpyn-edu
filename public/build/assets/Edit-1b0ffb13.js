import{A}from"./AdminLayout-ee86e078.js";import{L as U,H as S,r as w,o as l,d as a,k as h,w as x,F as v,a as e,t as _,f as p,b as d,y as B,m as q,c as k,v as V,q as y,u as E,p as M,g as T,s as f}from"./app-20f48993.js";import{P as L}from"./Pagination-495d9059.js";import{V as j}from"./ValidationError-070e76c6.js";import{C as F,_ as I}from"./uploadAdapter-1ca7b258.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const H={components:{AdminLayout:A,Link:U,Pagination:L,ValidationError:j,Head:S},props:["subjects","question"],data(){return{editor:F,input_type:"input",correct_answer_number:null,editorConfig:{extraPlugins:[this.uploader]},answers:this.question.answers}},methods:{uploader(n){n.plugins.get("FileRepository").createUploadAdapter=s=>new I(s)},deleteAnswer(n){this.correct_answer_number==n&&(this.correct_answer_number=null),this.answers=this.answers.filter(s=>s.number!=n),this.correct_answer_number=null},getAnswerOptionTextType(n){switch(n){case 1:return"A ";case 2:return"B ";case 3:return"C ";case 4:return"D ";case 5:return"E ";case 6:return"F ";case 7:return"G ";case 8:return"H ";case 9:return"J "}},addAnswer(){let n={number:this.answers.length+1,text:"",is_correct:!1};this.answers.push(n),this.correct_answer_number=null},submit(){if(this.question.correct_answer_number=this.correct_answer_number,!this.question.correct_answer_number)return Swal.fire({title:"Дұрыс жауап белгіленбеді",icon:"warning",showCancelButton:!1});var n=!0;if(this.question.answers.forEach(i=>{if(i.text==null)return n=!1}),!n)return this.warningMessage("Жауап енгізілмеді");let s={text:this.question.text,subject_id:this.question.subject_id,answers:this.answers,correct_answer_number:this.correct_answer_number,is_active:this.question.is_active};this.$inertia.put(route("admin.test.questions.update",this.question.id),s,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new queston has been saved")})},warningMessage(n){return Swal.fire({title:n,icon:"warning",showCancelButton:!1})}},mounted(){if(!this.correct_answer_number){this.answers=this.clone(this.question.answers);let n=this.question.answers.filter(s=>s.is_correct).shift();n&&n.number&&(this.correct_answer_number=n.number)}}},o=n=>(M("data-v-6060548c"),n=n(),T(),n),N=o(()=>e("head",null,[e("title",null,"Админ панель | Сұрақты өзгерту")],-1)),P={class:"row mb-2"},O={class:"col-sm-6"},R={class:"m-0"},G={class:"col-sm-6"},J={class:"breadcrumb float-sm-right"},z={class:"breadcrumb-item"},K=["href"],Q=o(()=>e("i",{class:"fas fa-dashboard"},null,-1)),W=f(" Басты бет "),X=[Q,W],Y={class:"breadcrumb-item"},Z=["href"],$=o(()=>e("i",{class:"fas fa-dashboard"},null,-1)),ee=f(" Сұрақтар тізімі "),te=[$,ee],se={class:"breadcrumb-item active"},ne={class:"container-fluid"},oe={class:"card card-primary"},ie={class:"card-body"},re={class:"table table-bordered"},le={class:"odd even"},ae=o(()=>e("td",null,[e("b",null,"Пән"),e("i",{class:"red"},"*")],-1)),de=o(()=>e("option",{value:"",selected:"",disabled:""}," Пәнді таңдаңыз ",-1)),ce=["value"],ue={class:"odd even"},_e=o(()=>e("td",null,[e("b",null,"Сұрақ"),f(),e("i",{class:"red"},"*")],-1)),me={id:"question"},he={class:"odd even"},be=o(()=>e("td",null,"Жауап нұсқаларын енгізіңіз:",-1)),pe={class:"d-flex align-items-center"},fe={class:"d-flex align-items-center mr-2"},we=o(()=>e("p",{class:"ml-2"},"- input",-1)),ve={class:"d-flex align-items-center"},ye=o(()=>e("p",{class:"ml-2"},"- ckeditor",-1)),ge=["id"],xe={class:"d-flex justify-content-between align-items-center"},qe=["value"],ke=["onClick"],Ve=o(()=>e("i",{class:"fas fa-trash"},null,-1)),Ce=[Ve],Ae=["onUpdate:modelValue"],Ue={class:"odd even"},Se=o(()=>e("td",null,[e("b",null,"Белсенді/ Белсенді емес ")],-1)),Be={class:"custom-control custom-switch"},Ee=o(()=>e("label",{class:"custom-control-label",for:"customSwitch1"},"Белсенді/Белсенді емес",-1)),Me={class:"odd even"},Te=o(()=>e("i",{class:"fa fa-trash"},null,-1)),Le=f(" Тазалау "),je=[Te,Le],Fe=o(()=>e("button",{class:"btn btn-success",type:"submit"}," Сақтау ",-1));function Ie(n,s,i,De,r,c){const b=w("validation-error"),g=w("ckeditor"),C=w("AdminLayout");return l(),a(v,null,[N,h(C,null,{breadcrumbs:x(()=>[e("div",P,[e("div",O,[e("h1",R,"Сұрақ өзгерту №"+_(i.question.id),1)]),e("div",G,[e("ol",J,[e("li",z,[e("a",{href:n.route("admin.index")},X,8,K)]),e("li",Y,[e("a",{href:n.route("admin.test.questions.index")},te,8,Z)]),e("li",se," Сұрақ өзгерту №"+_(i.question.id),1)])])])]),default:x(()=>[e("div",ne,[e("div",oe,[e("div",ie,[e("form",{onSubmit:s[9]||(s[9]=p((...t)=>c.submit&&c.submit(...t),["prevent"]))},[e("table",re,[e("tbody",null,[e("tr",le,[ae,e("td",null,[d(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.question.subject_id=t),class:"form-control"},[de,(l(!0),a(v,null,q(i.subjects,(t,m)=>(l(),a("option",{value:t.id,key:"subject"+m},_(t.name)+" "+_(t.description?"("+t.description+")":"")+" ("+_(t.language.name)+") ",9,ce))),128))],512),[[B,i.question.subject_id]]),h(b,{field:"subject_id"})])]),e("tr",ue,[_e,e("td",me,[r.input_type==="ckeditor"?(l(),k(g,{key:0,editor:r.editor,modelValue:i.question.text,"onUpdate:modelValue":s[1]||(s[1]=t=>i.question.text=t),config:r.editorConfig,class:"form-control"},null,8,["editor","modelValue","config"])):d((l(),a("input",{key:1,"onUpdate:modelValue":s[2]||(s[2]=t=>i.question.text=t),type:"text",class:"form-control"},null,512)),[[V,i.question.text]]),h(b,{field:"text"})])]),e("tr",he,[be,e("td",null,[e("div",pe,[e("div",fe,[d(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.input_type=t),type:"radio",class:"select-answer",value:"input"},null,512),[[y,r.input_type]]),we]),e("div",ve,[d(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>r.input_type=t),type:"radio",class:"select-answer",value:"ckeditor"},null,512),[[y,r.input_type]]),ye])])])]),(l(!0),a(v,null,q(r.answers,(t,m)=>(l(),a("tr",{key:"answer"+m,class:"odd even"},[e("td",null,[e("b",null,_(c.getAnswerOptionTextType(m+1))+") ",1)]),e("td",{id:"answer"+t.number},[e("div",xe,[d(e("input",{"onUpdate:modelValue":s[5]||(s[5]=u=>r.correct_answer_number=u),class:"select-answer",type:"radio",name:"Buttonradio25",value:t.number},null,8,qe),[[y,r.correct_answer_number]]),e("button",{class:"btn btn-danger btn-xs ml-2 mr-2 h-25",style:{"margin-top":"5px",height:"25px"},type:"button",onClick:p(u=>c.deleteAnswer(t.number),["prevent"]),title:"Жою"},Ce,8,ke),r.input_type==="ckeditor"?(l(),k(g,{key:0,editor:r.editor,modelValue:t.text,"onUpdate:modelValue":u=>t.text=u,config:r.editorConfig,class:"form-control"},null,8,["editor","modelValue","onUpdate:modelValue","config"])):d((l(),a("input",{key:1,"onUpdate:modelValue":u=>t.text=u,type:"text",class:"form-control"},null,8,Ae)),[[V,t.text]])]),h(b,{field:`answers.${m}.text`},null,8,["field"])],8,ge)]))),128)),e("tr",Ue,[Se,e("td",null,[e("div",Be,[d(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=t=>i.question.is_active=t),class:"custom-control-input",id:"customSwitch1"},null,512),[[E,i.question.is_active]]),Ee]),h(b,{field:"is_active"})])]),e("tr",Me,[e("td",null,[e("button",{class:"btn btn-danger",type:"button",onClick:s[7]||(s[7]=p((...t)=>n.clear&&n.clear(...t),["prevent"]))},je)]),e("td",null,[Fe,e("button",{class:"btn btn-primary ml-2",onClick:s[8]||(s[8]=p((...t)=>c.addAnswer&&c.addAnswer(...t),["prevent"])),type:"button"}," Жауап қосу ")])])])])],32)])])])]),_:1})],64)}const Je=D(H,[["render",Ie],["__scopeId","data-v-6060548c"]]);export{Je as default};
