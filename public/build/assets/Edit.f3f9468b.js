import{A as T}from"./AdminLayout.2eb06c42.js";import{L as E,H as L,a as f,o as _,c as h,g as u,w as y,F as x,d as t,j as k,t as c,e as d,i as V,k as l,u as p,v as g,x as w,f as D,m as C,l as B}from"./app.0de5844c.js";import{P as M}from"./Pagination.282955a2.js";import{V as N}from"./ValidationError.edb65d2b.js";import{C as S}from"./ckeditor.343d27cd.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const F={components:{AdminLayout:T,Link:E,Pagination:M,ValidationError:N,Head:L},props:["surak","appeal"],data(){return{types:["\u041E\u0431\u043B\u044B\u0441\u0442\u044B\u049B","\u0420\u0435\u0441\u043F\u0443\u0431\u043B\u0438\u043A\u0430\u043B\u044B\u049B","\u0425\u0430\u043B\u044B\u049B\u0430\u0440\u0430\u043B\u044B\u049B"],bagyt_id:route().params.bagyt,option_id:route().params.option,editor:S,input_type:"input",changed:1,editorConfig:{}}},methods:{changeInputType(n){this.input_type==="ckeditor"&&this.changed&&(this.changed=0,this.getCkeditor())},getCkeditor(){var n=document.querySelectorAll("#editor"),e=window.location.origin,s=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),b=[this.surak.surak];this.surak.zhauap.forEach(a=>{b.push(a.variant)}),n.forEach((a,r)=>{S.create(a,{initialData:b[r],simpleUpload:{uploadUrl:e+"/ckeditor/upload-image",withCredentials:!0,headers:{"X-CSRF-TOKEN":s}}}).then(i=>{i.model.document.on("change:data",()=>{r?this.surak.zhauap[r-1].variant=i.getData():this.surak.surak=i.getData()})}).catch(i=>{console.log(i)})})},getStatusText(n){return n==1?"\u0421\u04B1\u0440\u0430\u049B \u0434\u04B1\u0440\u044B\u0441":"\u0421\u04B1\u0440\u0430\u049B \u049B\u0430\u0442\u0435"},submit(){this.$inertia.put(route("admin.olimpiadaAppeals.update",[this.appeal.id]),{surak:this.surak,appeal:this.appeal,error_type:this.appeal.error_type},{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},getAnswerOptionTextType(n){switch(n){case 1:return"A ";case 2:return"B ";case 3:return"C ";case 4:return"D ";case 5:return"E ";case 6:return"F ";case 7:return"G ";case 8:return"H ";case 9:return"J "}}}},q=t("head",null,[t("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430 | \u0421\u04B1\u0440\u0430\u049B \u04E9\u0437\u0433\u0435\u0440\u0442\u0443")],-1),H={class:"row mb-2"},O=t("div",{class:"col-sm-6"},[t("h1",{class:"m-0"},"\u0421\u04B1\u0440\u0430\u049B \u04E9\u0437\u0433\u0435\u0440\u0442\u0443")],-1),I={class:"col-sm-6"},P={class:"breadcrumb float-sm-right"},R={class:"breadcrumb-item"},j=["href"],G=t("i",{class:"fas fa-dashboard"},null,-1),J=d(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),K=[G,J],Q={class:"breadcrumb-item"},X=["href"],W=t("i",{class:"fas fa-dashboard"},null,-1),Y=d(" \u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430 \u0431\u0430\u0493\u044B\u0442 "),Z=[W,Y],$=t("li",{class:"breadcrumb-item active"},"\u0421\u04B1\u0440\u0430\u049B \u04E9\u0437\u0433\u0435\u0440\u0442\u0443",-1),tt={class:"container-fluid"},et={class:"card card-primary"},st={class:"card-footer"},ot=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," \u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430\u0493\u0430 \u049B\u0430\u0442\u044B\u0441\u0443 \u0436\u0430\u0439\u043B\u044B \u0430\u049B\u043F\u0430\u0440\u0430\u0442 ")],-1),at={class:"card-body"},nt={class:"row"},it={class:"col-12 col-md-12 col-lg-12 order-2 order-md-1"},lt={class:"row"},rt={class:"col-12"},dt={key:0,class:"post"},ct={class:"user-block"},ut={class:"username",style:{"margin-left":"0 !important"}},_t={class:"mb-0"},ht=t("b",null,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:",-1),mt={class:"mb-0"},pt=t("b",null,"\u0411\u0430\u0493\u044B\u0442:",-1),bt={class:"mb-0"},vt=t("b",null,"\u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430 \u0442\u04AF\u0440\u0456:",-1),ft={class:"mb-0 mt-3"},yt=t("b",null,"\u049A\u0430\u0442\u0435 \u0442\u04AF\u0440\u0456:",-1),kt={key:0,class:"mb-0"},gt=t("b",null,"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438:",-1),wt={class:"card-body"},xt={class:"table table-bordered"},Vt={class:"odd even"},Ct=t("td",{class:"w-25"},[t("b",null,"\u0421\u04B1\u0440\u0430\u049B"),d(),t("i",{class:"red"},"*")],-1),St={id:"turnirQuestion"},At=t("textarea",{id:"editor"},null,-1),Ut=t("a",{class:"d-block mt-2",href:"https://latex.codecogs.com/eqneditor/editor.php",target:"_blank"},"Latex \u0444\u043E\u0440\u043C\u0443\u043B\u0430",-1),Tt=[At,Ut],Et={class:"odd even"},Lt=t("td",null,"\u0416\u0430\u0443\u0430\u043F \u043D\u04B1\u0441\u049B\u0430\u043B\u0430\u0440\u044B\u043D \u0435\u043D\u0433\u0456\u0437\u0456\u04A3\u0456\u0437:",-1),Dt={class:"d-flex align-items-center"},Bt={class:"d-flex align-items-center mr-2"},Mt=t("p",{class:"ml-2"},"- input",-1),Nt={class:"d-flex align-items-center"},zt=t("p",{class:"ml-2"},"- ckeditor",-1),Ft=t("i",{class:"red"},"*",-1),qt={class:"d-flex align-items-center"},Ht=["value"],Ot=t("textarea",{id:"editor"},null,-1),It=[Ot],Pt=["onUpdate:modelValue"],Rt={class:"odd even"},jt=t("td",null,[t("b",null,"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456/ \u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456 \u0435\u043C\u0435\u0441 ")],-1),Gt={class:"custom-control custom-switch"},Jt=t("label",{class:"custom-control-label",for:"customSwitch1"},"\u0410\u0440\u0445\u0438\u0432",-1),Kt={class:"odd even"},Qt=t("i",{class:"fa fa-trash"},null,-1),Xt=d(" \u0422\u0430\u0437\u0430\u043B\u0430\u0443 "),Wt=[Qt,Xt],Yt={class:"form-group"},Zt=t("label",{for:""},"\u0422\u04AF\u0441\u0456\u043D\u0456\u043A",-1),$t={class:"form-group col-md-3"},te=t("label",{for:""},[d("\u049A\u0430\u0442\u0435 \u0442\u04AF\u0440\u0456\u043D \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 "),t("span",{class:"red"},"*")],-1),ee=t("option",{hidden:"",value:null}," \u049A\u0430\u0442\u0435 \u0442\u04AF\u0440\u0456\u043D \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 ",-1),se=t("option",{value:"0"}," \u0421\u04B1\u0440\u0430\u049B \u049B\u0430\u0442\u0435 ",-1),oe=t("option",{value:"1"}," \u0421\u04B1\u0440\u0430\u049B \u0434\u04B1\u0440\u044B\u0441 ",-1),ae=[ee,se,oe],ne={class:"form-group mt-4 col-md-3"},ie={class:"custom-control custom-switch"},le={class:"custom-control-label",for:"customSwitch2"},re={class:"card-footer"},de=t("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1),ce=t("button",{type:"button",class:"btn btn-danger"}," \u0410\u0440\u0442\u049B\u0430 ",-1);function ue(n,e,s,b,a,r){const i=f("validation-error"),A=f("Link"),U=f("AdminLayout");return _(),h(x,null,[q,u(U,null,{breadcrumbs:y(()=>[t("div",H,[O,t("div",I,[t("ol",P,[t("li",R,[t("a",{href:n.route("admin.index")},K,8,j)]),t("li",Q,[t("a",{href:n.route("admin.olimpiadaAppeals.index",[a.bagyt_id,a.option_id])},Z,8,X)]),$])])])]),default:y(()=>[t("div",tt,[t("div",et,[t("form",{method:"post",onSubmit:e[11]||(e[11]=k((...o)=>r.submit&&r.submit(...o),["prevent"]))},[t("div",st,[ot,t("div",at,[t("div",nt,[t("div",it,[t("div",lt,[t("div",rt,[s.surak.bagyty?(_(),h("div",dt,[t("div",ct,[t("span",ut," \u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430 \u0430\u0442\u0430\u0443\u044B: "+c(s.surak.tury.o_tury),1)]),t("p",_t,[ht,d(" "+c(s.surak.bagyty.katysushilar),1)]),t("p",mt,[pt,d(" "+c(s.surak.bagyty.bagyt),1)]),t("p",bt,[vt,d(" "+c(a.types[s.surak.bagyty.type-1]),1)]),t("p",ft,[yt,d(" "+c(s.appeal.variable),1)]),s.appeal.text?(_(),h("p",kt,[gt,d(" "+c(s.appeal.text),1)])):V("",!0)])):V("",!0)])])])])])]),t("div",wt,[t("form",{onSubmit:e[8]||(e[8]=k((...o)=>r.submit&&r.submit(...o),["prevent"]))},[t("table",xt,[t("tbody",null,[t("tr",Vt,[Ct,t("td",St,[l(t("div",null,Tt,512),[[p,a.input_type==="ckeditor"]]),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.surak.surak=o),type:"text",class:"form-control"},null,512),[[p,a.input_type!="ckeditor"],[g,s.surak.surak]]),u(i,{field:"surak"})])]),t("tr",Et,[Lt,t("td",null,[t("div",Dt,[t("div",Bt,[l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.input_type=o),type:"radio",class:"select-answer",value:"input"},null,512),[[w,a.input_type]]),Mt]),t("div",Nt,[l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.input_type=o),type:"radio",class:"select-answer",value:"ckeditor",onChange:e[3]||(e[3]=o=>r.changeInputType())},null,544),[[w,a.input_type]]),zt])])])]),(_(!0),h(x,null,D(s.surak.zhauap,(o,m)=>(_(),h("tr",{key:"zhauap"+m,class:"odd even"},[t("td",null,[t("b",null,c(r.getAnswerOptionTextType(m+1)),1),Ft]),t("td",null,[t("div",qt,[l(t("input",{"onUpdate:modelValue":e[4]||(e[4]=v=>s.surak.correct_answer_number=v),class:"select-answer mr-2 h-25",type:"radio",name:"Buttonradio25",value:m},null,8,Ht),[[w,s.surak.correct_answer_number]]),l(t("div",null,It,512),[[p,a.input_type==="ckeditor"]]),l(t("input",{"onUpdate:modelValue":v=>o.variant=v,type:"text",class:"form-control"},null,8,Pt),[[p,a.input_type!="ckeditor"],[g,o.variant]])]),u(i,{field:`zhauaptar.${m}.variant`},null,8,["field"])])]))),128)),t("tr",Rt,[jt,t("td",null,[t("div",Gt,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=o=>s.surak.archive=o),"true-value":"1","false-value":"0",class:"custom-control-input",id:"customSwitch1"},null,512),[[C,s.surak.archive]]),Jt]),u(i,{field:"is_active"})])]),t("tr",Kt,[t("td",null,[t("button",{class:"btn btn-danger",type:"button",onClick:e[6]||(e[6]=k((...o)=>n.clear&&n.clear(...o),["prevent"]))},Wt)])])])]),t("div",Yt,[Zt,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>s.surak.tusinik=o),name:"name",placeholder:"\u0422\u04AF\u0441\u0456\u043D\u0456\u043A"},null,512),[[g,s.surak.tusinik]]),u(i,{field:"tusinik"})])],32),t("div",$t,[te,l(t("select",{class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>s.appeal.error_type=o),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},ae,512),[[B,s.appeal.error_type]])]),t("div",ne,[t("div",ie,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=o=>s.appeal.is_checked=o),class:"custom-control-input",id:"customSwitch2","true-value":"1","false-value":"0"},null,512),[[C,s.appeal.is_checked]]),t("label",le,"\u0422\u0435\u043A\u0441\u0435\u0440\u0456\u043B\u0434\u0456 ("+c(s.appeal.is_checked==1?"\u0418\u04D9":"\u0416\u043E\u049B")+")",1)]),u(i,{field:"active"})])]),t("div",re,[de,u(A,{href:n.route("admin.olimpiadaAppeals.index")},{default:y(()=>[ce]),_:1},8,["href"])])],32)])])]),_:1})],64)}const fe=z(F,[["render",ue]]);export{fe as default};
